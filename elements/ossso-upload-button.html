<link rel="import" href="/bower_components/paper-button/paper-button.html" />
<dom-module id="ossso-upload-button">
    <style>
        #form {
            display: none;
        }
    </style>
    <template>
        <form id="form" method="post" action$="[[action]]" enctype="multipart/form-data">
            <input id="picker" type="file" name="file" accept="text/csv" on-change="submit" />
        </form>
        <paper-button raised on-click="upload">[[buttonText]]</paper-button>
    </template>
    <script>
        Polymer({
            is: 'ossso-upload-button',
            properties: {
                action: String,
                buttonText: String
            },
            upload: function () {
                this.$.picker.click();
            },
            submit: function () {
                this.$.form.submit();
                this.$.picker.value = '';
            }
        });
    </script>
</dom-module>
